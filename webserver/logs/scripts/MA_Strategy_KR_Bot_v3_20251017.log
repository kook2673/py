datetime.datetime(2025, 10, 17, 14, 50, 32, 42820, tzinfo=<DstTzInfo 'Asia/Seoul' KST+9:00:00 STD>)
Time is OK... but one more checked!!!
한투 데이터 마지막 날짜: 2025-10-17
----First try----
FDR 마지막 날짜: 2025-10-17
FDR 데이터를 잘 가져옴
--- 9
=== MarketStatus API Call Debug ===
URL: https://openapi.koreainvestment.com:9443/uapi/domestic-stock/v1/quotations/inquire-price
headers: {'Content-Type': 'application/json', 'authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0b2tlbiIsImF1ZCI6ImMwNGYzMTk2LTU5ZjMtNDNiNS05ODM1LTUwZTYxNDdiODI5ZCIsInByZHRfY2QiOiIiLCJpc3MiOiJ1bm9ndyIsImV4cCI6MTc2MDY4MDIzOSwiaWF0IjoxNzYwNTkzODM5LCJqdGkiOiJQU2NKVDdxWXdacEI1Y25HM2VzbU1DazN3QndQanBnM0xQQjEifQ.WasCjQOEWFtx7yOITv4pflf_UH4X6aceZjvG37TSwdpWeeA2t1M56ef8Woupw8xGGrlxcVq2LWOBUH3fMEVn2g', 'appKey': 'PScJT7qYwZpB5cnG3esmMCk3wBwPjpg3LPB1', 'appSecret': 'V38aLbUVEWXDKTBQPi4dYiN1v2HKJRs8j2CvRKa5hul0Ed4DLa1ZfzOlVMqUaq18hLwP6x1iYzw9ggcbF/SWY0p1ZoDnjNAq0bK2K2DhL7WM6BqKoT1omX/flLlTvoh/5/9x+AF1mCOpug9dayW+JpwongGq2JXAjRg/yR86LerGnVxSTps=', 'tr_id': 'FHKST01010200'}
params: {'FID_COND_MRKT_DIV_CODE': 'J', 'FID_INPUT_ISCD': '069500'}
Response status: 200
Response text: {"output1":{"aspr_acpt_hour":"145030","askp1":"52750","askp2":"52755","askp3":"52760","askp4":"52765","askp5":"52770","askp6":"52775","askp7":"52780","askp8":"52785","askp9":"52790","askp10":"52795","bidp1":"52745","bidp2":"52740","bidp3":"52735","bidp4":"52730","bidp5":"52725","bidp6":"52720","bidp7":"52715","bidp8":"52710","bidp9":"52705","bidp10":"52700","askp_rsqn1":"17381","askp_rsqn2":"36631","askp_rsqn3":"49331","askp_rsqn4":"34248","askp_rsqn5":"23090","askp_rsqn6":"438","askp_rsqn7":"115","askp_rsqn8":"108","askp_rsqn9":"1703","askp_rsqn10":"2660","bidp_rsqn1":"75","bidp_rsqn2":"14382","bidp_rsqn3":"27310","bidp_rsqn4":"51159","bidp_rsqn5":"28388","bidp_rsqn6":"17883","bidp_rsqn7":"19701","bidp_rsqn8":"13536","bidp_rsqn9":"14121","bidp_rsqn10":"17114","askp_rsqn_icdc1":"7664","askp_rsqn_icdc2":"10000","askp_rsqn_icdc3":"-2488","askp_rsqn_icdc4":"-5000","askp_rsqn_icdc5":"-5000","askp_rsqn_icdc6":"-1505","askp_rsqn_icdc7":"0","askp_rsqn_icdc8":"0","askp_rsqn_icdc9":"0","askp_rsqn_icdc10":"0","bidp_rsqn_icdc1":"-8584","bidp_rsqn_icdc2":"-2020","bidp_rsqn_icdc3":"-9915","bidp_rsqn_icdc4":"10763","bidp_rsqn_icdc5":"1162","bidp_rsqn_icdc6":"-2500","bidp_rsqn_icdc7":"5000","bidp_rsqn_icdc8":"0","bidp_rsqn_icdc9":"0","bidp_rsqn_icdc10":"2500","total_askp_rsqn":"165705","total_bidp_rsqn":"203669","total_askp_rsqn_icdc":"3671","total_bidp_rsqn_icdc":"-3594","ovtm_total_askp_icdc":"0","ovtm_total_bidp_icdc":"0","ovtm_total_askp_rsqn":"0","ovtm_total_bidp_rsqn":"0","ntby_aspr_rsqn":"37964","new_mkop_cls_code":"20"},"output2":{"antc_mkop_cls_code":"112","stck_prpr":"52750","stck_oprc":"52360","stck_hgpr":"53450","stck_lwpr":"52250","stck_sdpr":"52585","antc_cnpr":"52350","antc_cntg_vrss_sign":"5","antc_cntg_vrss":"-235","antc_cntg_prdy_ctrt":"-0.45","antc_vol":"40840","stck_shrn_iscd":"069500","vi_cls_code":"N"},"rt_cd":"0","msg_cd":"MCA00000","msg1":"정상처리 되었습니다."}
Response JSON: {'output1': {'aspr_acpt_hour': '145030', 'askp1': '52750', 'askp2': '52755', 'askp3': '52760', 'askp4': '52765', 'askp5': '52770', 'askp6': '52775', 'askp7': '52780', 'askp8': '52785', 'askp9': '52790', 'askp10': '52795', 'bidp1': '52745', 'bidp2': '52740', 'bidp3': '52735', 'bidp4': '52730', 'bidp5': '52725', 'bidp6': '52720', 'bidp7': '52715', 'bidp8': '52710', 'bidp9': '52705', 'bidp10': '52700', 'askp_rsqn1': '17381', 'askp_rsqn2': '36631', 'askp_rsqn3': '49331', 'askp_rsqn4': '34248', 'askp_rsqn5': '23090', 'askp_rsqn6': '438', 'askp_rsqn7': '115', 'askp_rsqn8': '108', 'askp_rsqn9': '1703', 'askp_rsqn10': '2660', 'bidp_rsqn1': '75', 'bidp_rsqn2': '14382', 'bidp_rsqn3': '27310', 'bidp_rsqn4': '51159', 'bidp_rsqn5': '28388', 'bidp_rsqn6': '17883', 'bidp_rsqn7': '19701', 'bidp_rsqn8': '13536', 'bidp_rsqn9': '14121', 'bidp_rsqn10': '17114', 'askp_rsqn_icdc1': '7664', 'askp_rsqn_icdc2': '10000', 'askp_rsqn_icdc3': '-2488', 'askp_rsqn_icdc4': '-5000', 'askp_rsqn_icdc5': '-5000', 'askp_rsqn_icdc6': '-1505', 'askp_rsqn_icdc7': '0', 'askp_rsqn_icdc8': '0', 'askp_rsqn_icdc9': '0', 'askp_rsqn_icdc10': '0', 'bidp_rsqn_icdc1': '-8584', 'bidp_rsqn_icdc2': '-2020', 'bidp_rsqn_icdc3': '-9915', 'bidp_rsqn_icdc4': '10763', 'bidp_rsqn_icdc5': '1162', 'bidp_rsqn_icdc6': '-2500', 'bidp_rsqn_icdc7': '5000', 'bidp_rsqn_icdc8': '0', 'bidp_rsqn_icdc9': '0', 'bidp_rsqn_icdc10': '2500', 'total_askp_rsqn': '165705', 'total_bidp_rsqn': '203669', 'total_askp_rsqn_icdc': '3671', 'total_bidp_rsqn_icdc': '-3594', 'ovtm_total_askp_icdc': '0', 'ovtm_total_bidp_icdc': '0', 'ovtm_total_askp_rsqn': '0', 'ovtm_total_bidp_rsqn': '0', 'ntby_aspr_rsqn': '37964', 'new_mkop_cls_code': '20'}, 'output2': {'antc_mkop_cls_code': '112', 'stck_prpr': '52750', 'stck_oprc': '52360', 'stck_hgpr': '53450', 'stck_lwpr': '52250', 'stck_sdpr': '52585', 'antc_cnpr': '52350', 'antc_cntg_vrss_sign': '5', 'antc_cntg_vrss': '-235', 'antc_cntg_prdy_ctrt': '-0.45', 'antc_vol': '40840', 'stck_shrn_iscd': '069500', 'vi_cls_code': 'N'}, 'rt_cd': '0', 'msg_cd': 'MCA00000', 'msg1': '정상처리 되었습니다.'}
output1: {'aspr_acpt_hour': '145030', 'askp1': '52750', 'askp2': '52755', 'askp3': '52760', 'askp4': '52765', 'askp5': '52770', 'askp6': '52775', 'askp7': '52780', 'askp8': '52785', 'askp9': '52790', 'askp10': '52795', 'bidp1': '52745', 'bidp2': '52740', 'bidp3': '52735', 'bidp4': '52730', 'bidp5': '52725', 'bidp6': '52720', 'bidp7': '52715', 'bidp8': '52710', 'bidp9': '52705', 'bidp10': '52700', 'askp_rsqn1': '17381', 'askp_rsqn2': '36631', 'askp_rsqn3': '49331', 'askp_rsqn4': '34248', 'askp_rsqn5': '23090', 'askp_rsqn6': '438', 'askp_rsqn7': '115', 'askp_rsqn8': '108', 'askp_rsqn9': '1703', 'askp_rsqn10': '2660', 'bidp_rsqn1': '75', 'bidp_rsqn2': '14382', 'bidp_rsqn3': '27310', 'bidp_rsqn4': '51159', 'bidp_rsqn5': '28388', 'bidp_rsqn6': '17883', 'bidp_rsqn7': '19701', 'bidp_rsqn8': '13536', 'bidp_rsqn9': '14121', 'bidp_rsqn10': '17114', 'askp_rsqn_icdc1': '7664', 'askp_rsqn_icdc2': '10000', 'askp_rsqn_icdc3': '-2488', 'askp_rsqn_icdc4': '-5000', 'askp_rsqn_icdc5': '-5000', 'askp_rsqn_icdc6': '-1505', 'askp_rsqn_icdc7': '0', 'askp_rsqn_icdc8': '0', 'askp_rsqn_icdc9': '0', 'askp_rsqn_icdc10': '0', 'bidp_rsqn_icdc1': '-8584', 'bidp_rsqn_icdc2': '-2020', 'bidp_rsqn_icdc3': '-9915', 'bidp_rsqn_icdc4': '10763', 'bidp_rsqn_icdc5': '1162', 'bidp_rsqn_icdc6': '-2500', 'bidp_rsqn_icdc7': '5000', 'bidp_rsqn_icdc8': '0', 'bidp_rsqn_icdc9': '0', 'bidp_rsqn_icdc10': '2500', 'total_askp_rsqn': '165705', 'total_bidp_rsqn': '203669', 'total_askp_rsqn_icdc': '3671', 'total_bidp_rsqn_icdc': '-3594', 'ovtm_total_askp_icdc': '0', 'ovtm_total_bidp_icdc': '0', 'ovtm_total_askp_rsqn': '0', 'ovtm_total_bidp_rsqn': '0', 'ntby_aspr_rsqn': '37964', 'new_mkop_cls_code': '20'}
Returning result: {'Status': '2'}
=== MarketStatus Debug Info ===
market type: <class 'dict'>
market value: {'Status': '2'}
market repr: {'Status': '2'}
{'Status': '2'}
=== End MarketStatus Debug Info ===
'20251017'
Market is Open!!!!
---> CTX_AREA_FK100:  43150882^01^N^N^01^01^N^
한투 데이터 마지막 날짜: 2025-10-17
----First try----

----Second try----
web.DataReader 마지막 날짜: 2025-10-17
web.DataReader 데이터를 잘 가져옴
--- 106
한투 데이터 마지막 날짜: 2025-10-17
----First try----
FDR 마지막 날짜: 2025-10-17
FDR 데이터를 잘 가져옴
--- 338
한투 데이터 마지막 날짜: 2025-10-17
----First try----
FDR 마지막 날짜: 2025-10-17
FDR 데이터를 잘 가져옴
--- 338
Error Code : 500 | {"rt_cd":"1","msg1":"기간이 만료된 token 입니다.","msg_cd":"EGW00123"}
'builtin_function_or_method' object is not subscriptable
Traceback (most recent call last):
  File "C:\work\GitHub\py\webserver\..\kook\kis\MA_Strategy_KR_Bot_v3.py", line 243, in <module>
    df['prevClose'] = df['close'].shift(1)
                      ~~^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable

==== [2025-10-17 14:50:17] Run: MA_Strategy_KR_Bot_v3.py ====
CWD: C:\work\GitHub\py\webserver
Python: C:\Users\kook-minipc\AppData\Local\Microsoft\WindowsApps\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\python.exe

==== Exit code: 1 ====
==== End of run ===
